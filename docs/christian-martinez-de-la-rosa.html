<!DOCTYPE html>
<html>
<head>
    <title>Final Fantasy Mystery World</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="logo.png">
</head>
<header>
    <nav>
        <ul>
            <li><a href="team.html">About Us</a></li>
            <li class="mobile"><a href="download.html">Download</a></li>
            <li class="logo"><a href="index.html">PolarPath Logo</a></li>
            <li class="desktop"><a href="download.html">Download</a></li>
        </ul>
    </nav>
</header>
<header class="scroll_navbar">
<nav>
    <ul>
        <li><a href="team.html">About Us</a></li>                
        <li class="mobile"><a href="download.html">Download</a></li>
        <li class="logo"><a href="index.html">PolarPath Logo</a></li>
        <li class="desktop"><a href="download.html">Download</a></li>
    </ul>
</nav>
</header>
<section class="member">
    <h1>Christian Martínez de la Rosa</h1>
    <img src="members/CHRISTIAN_wapo.jpg" alt="Christian Martínez de la Rosa">
    <div class="container_member">
        <ul>
            <li>
                Role: Leader
            </li>
            <li>
                Age: 20 y.o.
            </li>
            <li>
                From: Begues
            </li>
            <li>
                Github: <a class="github" href="https://github.com/christt105">christt105</a>
            </li>
        </ul>
    </div>
</section>

<section class="work">
    <h2>My work</h2>
    As a team lead, my work was to guide the team to the right direction and to keep the team together.
    Also, inside the project, I have mainly worked in code, specifically in data structure and data management.
    </br>
    In general, I have had meetings with the <a href="lluis-moreu-farran.html">manager</a> in order to create the team meeting points, 
    to know the deviation of the team and prevent possible risks.
    </br>
    </br>
    As I said, I focused in code, now I will explain some features I have implemented.
    <h3>UI System</h3>
    I have implemented the base of the UI System. The system works with a list of UI elements and has implemented a BFS algorithm to go through it. To get the input, 
    the game travel for the UI list from the childs to the parent, to paint the UI, it travels inversely. The system includes the base UI elements:
    <h4>Image</h4>
    Image UI is the simplest element. Is a section of the atlas UI texture and, also, can be a sequence of frames, creating an animation.
    <h4>Button</h4>
    The Button UI has integrated the three main states: idle, on hover and click. Moreover, has a system of listeners to set logic when button is pushed. In addition, I
    have created the logic of focus to move between buttons.
    <h4>Label</h4>
    The Label element is a little more complex. First, has basic parameters like text, color and font, and automatically the program calculates the size it occupies on the screen. 
    In addition, it has a warp parameter that will cut the phrases to fit in the warp zone. Also, it has the posibility to set a background. You can choose a color and a
    alpha value and the program will paint the background behind the label, it is usefull in cases that you need readability.
    <h3>Font System</h3>
    In relation with the UI System, I have created a system to load fonts. We had the problem that for every label we created, a font was opened, so if we created 10 labels with the 
    same font and size, the program will open 10 equal fonts. In order to solve that, I have created a system that only open a font if there is not any equal opened before. To make
    it more readability, I had set a few fonts with default sizes we will use in a xml file. Every time that a label is created, it will find if there is a font with that
    characteristics and if it exist, will return that font pointer. Font can be searched by name(string) or by id(enum) we have declared.
    <h3>Properties</h3>
    In order to save important data from some things, like entities, map, etc. I have created a class that can save information and is self-administered. It consist in two templates classes, 
    the first one contain the name of the property and the value. The second one, contains a list of properties and some methods to organize the properties. The methods are to create
    a property and added to the list, get the value of the property by the name and can  pass a default value if the property with that name is not found. Other methods are thinked to 
    given a name it returns if exist a property with the same name and false if not, the last method cleans the property list. 
    You can find the file <a href="https://github.com/polarpathgames/Final-Fantasy-Mystery-World/blob/master/Final_Fantasy_Mystery_World/Final_Fantasy_Mystery_World/p2Properties.h">here</a>.
    <h3>Load Entities From Tiled</h3>
    Creating the information of all entities is a heavy and slowly task. In order to speed up the mechanism I have created a system that loads entity data from a xml file. In this case,
    I have used <a href="https://www.mapeditor.org/">Tiled</a>, a map editor, to work comfortably. The latest versions of Tiled allows to work with tilesets and has some interesting 
    functionalities. This is an example of what a spritesheet is seen in Tiled and the exportation in a .tsx file, that has the same behavior that a .xml version.
    <img src="images/christian/tsx.png" width="1500" alt="a tsx file seen in Tiled and raw">
    Here we have some basi data like tile size, number of tiles, the path of the image and custom properties that will be loaded with the Properties class mentioned before. Also,
    every tile has more space to set more data. Here we can see an example:
    <img src="images/christian/tile_info.png" alt="basic info of one tile in the spritesheet">
    Each tile has an ID number and a type. Also has properties and can hold an animation. In our case we have set a type number equals to the id enum of our animation states, so when
    we load the entity, the animations are setted automatically. In addition, each tile that has an animation attached, has a property to set the animation speed.
    <h3>Research</h3>
    In the project 2 subject, every student has to do a research on a topic. I choose Sprite Ordering and Camera Culling to do a research of it. You can find full information of the project
    <a href="https://christt105.github.io/Sprite_Ordering_and_Camera_Culling_Personal_Research/">here</a>. I recommend seeing that project that contains much  more information of that 
    topics that this web page.
    <h4>Sprite Ordering</h4>
    In summary, the system works with entities and order the vector by the Y position on the screen. In order to make a good logic of sprite ordering, the system works with a pivot that you
    can set where you want. Also, that pivot can be setted in Tiled, you only have to put a quad with the name "pivot" in the first tile and the program will set it directly.
    <h4>Camera Culling</h4>
    In relation to the previous topic, sorting a vector is very expensive. In order to optimize sorting and bliting I have applied a camera culling. That system checks if a entity or a tile
    is between camera edges. We use this in the draw map and in entities, only tiles in camera will blit and only entities in camera will be sorted and blitted. All this explication 
    is explained with more detail in the research web page, with examples and profiling tests.
    <h3>Static Entities</h3>
    <h3>Texture Manager</h3>
    <h3>On Collision System</h3>
    <h3>Memory Leaks</h3>
    <h3>Particle System</h3>
    <h3>Debug Screen</h3>
    <h3>Input Improve</h3>
    <h3>Math helper</h3>
    <h3>Improve Cutscene Manager</h3>
    <h3>NPC System</h3>
    <h3>State System</h3>
    <h3>Boss Quest 2: Ice Queen</h3>
    <h3>Rupees Spawn</h3>
    <h3>Abilities visual rework</h3>
    <h3>Installer</h3>
    
</section>
<footer>
    <ul>
        <li class="github"><a href="https://github.com/polarpathgames/Final-Fantasy-Mystery-World">Github Logo</a></li>
        <li class="twitter"><a href="https://twitter.com/polarpathgames">Twitter Logo</a></li>
        <li class="mail"><p>polarpathgames@gmail.com</p> </li>
    </ul>
</footer>
</html>